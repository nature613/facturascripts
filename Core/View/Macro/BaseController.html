<!--
    Genera el código para la vista Edit según las columnas indicadas
-->
{% macro columnsForEditView(context, view) %}
    {% for group in view.getColumns() %}
    <div class="{{ group.numColumns == 0 ? 'col' : 'col-md-' ~ group.numColumns }}">
        <div class="form-row">
            {% if group.title is not empty %}
            <legend>{{ group.getHeaderHTML(group.title)|raw }}</legend>
            {% endif %}
            {% for column in group.columns %}
                {% if column.display != 'none' %}
                {% set value = context.fsc.getFieldValue(view, column.widget.fieldName) %}
                {{ column.getEditHTML(value)|raw }}
                {% endif %}
            {% endfor %}
        </div>
    </div>
    {% endfor %}
{% endmacro %}

<!--
    Genera el código para la vista List según las columnas indicadas
-->
{% macro columnsForListView(i18n, view) %}
    <table class="table table-hover">
        <thead>
            <tr>
                {% for column in view.getColumns() %}
                {% if column.display != 'none' %}
                <th class="text-{{ column.display }}">{{ column.getHeaderHTML(column.title)|raw }}</th>
                {% endif %}
                {% endfor %}
            </tr>
        </thead>
        {% for data in view.getCursor() %}
            {# Set background status #}
            {% set rowClass = 'table-light' %}
            {% set rowStatus = view.getRow('status') %}
            {% if rowStatus is not empty %}
            {% set status = attribute(data, rowStatus.fieldName) %}
            {% set rowClass = rowStatus.getStatus(status) %}
            {% endif %}
            
            {% set rowDataHref = view.getClickEvent(data) %}
            {% if rowDataHref is not empty %}
            {% set rowClass = rowClass ~ ' clickableRow' %}
            {% endif %}
            
            <tr class="{{ rowClass }}" data-href="{{ rowDataHref }}">
            {# Print data columns for row #}
            {% for column in view.getColumns() %}
                {% if column.display != 'none' %}
                {% set value = attribute(data, column.widget.fieldName) %}
                <td class="text-{{ column.display }}">{{ column.getListHTML(value)|raw }}</td>
                {% endif %}
            {% endfor %}
            </tr>
            {% else %}
            <tr class="table-warning">
                <td colspan="12"><b>{{ i18n.trans('no-data') }}</b></td>
            </tr>
        {% endfor %}
    </table>
{% endmacro %}
